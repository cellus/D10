<?xml version="1.0" encoding="utf-8"?>
<Window>
	<Form Height="332" Id="D1101010017U" Left="8" OnLoadCompleted="D1101010017U_OnLoadCompleted" PidAttrib="7" Title="정압기&#32;상세정보입력_D1101010017U" Top="8" Ver="1.0" Width="890" WorkArea="false">
		<Datasets>
			<Dataset DataSetType="Dataset" Id="ds_GovItem">
				<Contents>
					<colinfo id="PROD_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="FACI_NUM" size="256" summ="default" type="STRING"/>
					<colinfo id="GOV_NUM" size="256" summ="default" type="STRING"/>
					<colinfo id="PROD_NUM" size="256" summ="default" type="STRING"/>
					<colinfo id="UPD_EMPID" size="256" summ="default" type="STRING"/>
					<colinfo id="UPD_IP" size="256" summ="default" type="STRING"/>
					<colinfo id="CRT_EMPID" size="256" summ="default" type="STRING"/>
					<colinfo id="CRT_IP" size="256" summ="default" type="STRING"/>
					<colinfo id="MAKER" size="256" summ="default" type="STRING"/>
					<colinfo id="MODEL_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="STD" size="256" summ="default" type="STRING"/>
					<colinfo id="QTY" size="256" summ="default" type="STRING"/>
					<colinfo id="SLEEVE" size="256" summ="default" type="STRING"/>
					<colinfo id="SPRING_COLOR" size="256" summ="default" type="STRING"/>
					<colinfo id="MAX_OPERAT_PRESS" size="256" summ="default" type="STRING"/>
					<colinfo id="MIN_OPERAT_PRESS" size="256" summ="default" type="STRING"/>
					<colinfo id="PRESS_CONTROL_RANGE_FROM" size="256" summ="default" type="STRING"/>
					<colinfo id="PRESS_CONTROL_RANGE_TO" size="256" summ="default" type="STRING"/>
					<colinfo id="RMK" size="256" summ="default" type="STRING"/>
					<record>
						<CRT_EMPID></CRT_EMPID>
						<CRT_IP></CRT_IP>
						<FACI_NUM></FACI_NUM>
						<GOV_NUM></GOV_NUM>
						<MAKER></MAKER>
						<MAX_OPERAT_PRESS></MAX_OPERAT_PRESS>
						<MIN_OPERAT_PRESS></MIN_OPERAT_PRESS>
						<MODEL_NM></MODEL_NM>
						<PRESS_CONTROL_RANGE_FROM></PRESS_CONTROL_RANGE_FROM>
						<PRESS_CONTROL_RANGE_TO></PRESS_CONTROL_RANGE_TO>
						<PROD_NM>Reg&#32;1</PROD_NM>
						<PROD_NUM>000001</PROD_NUM>
						<QTY></QTY>
						<RMK></RMK>
						<SLEEVE></SLEEVE>
						<SPRING_COLOR></SPRING_COLOR>
						<STD></STD>
						<UPD_EMPID></UPD_EMPID>
						<UPD_IP></UPD_IP>
					</record>
					<record>
						<CRT_EMPID></CRT_EMPID>
						<CRT_IP></CRT_IP>
						<FACI_NUM></FACI_NUM>
						<GOV_NUM></GOV_NUM>
						<MAKER></MAKER>
						<MAX_OPERAT_PRESS></MAX_OPERAT_PRESS>
						<MIN_OPERAT_PRESS></MIN_OPERAT_PRESS>
						<MODEL_NM></MODEL_NM>
						<PRESS_CONTROL_RANGE_FROM></PRESS_CONTROL_RANGE_FROM>
						<PRESS_CONTROL_RANGE_TO></PRESS_CONTROL_RANGE_TO>
						<PROD_NM>Reg&#32;2</PROD_NM>
						<PROD_NUM>000002</PROD_NUM>
						<QTY></QTY>
						<RMK></RMK>
						<SLEEVE></SLEEVE>
						<SPRING_COLOR></SPRING_COLOR>
						<STD></STD>
						<UPD_EMPID></UPD_EMPID>
						<UPD_IP></UPD_IP>
					</record>
					<record>
						<CRT_EMPID></CRT_EMPID>
						<CRT_IP></CRT_IP>
						<FACI_NUM></FACI_NUM>
						<GOV_NUM></GOV_NUM>
						<MAKER></MAKER>
						<MAX_OPERAT_PRESS></MAX_OPERAT_PRESS>
						<MIN_OPERAT_PRESS></MIN_OPERAT_PRESS>
						<MODEL_NM></MODEL_NM>
						<PRESS_CONTROL_RANGE_FROM></PRESS_CONTROL_RANGE_FROM>
						<PRESS_CONTROL_RANGE_TO></PRESS_CONTROL_RANGE_TO>
						<PROD_NM>Pilot&#32;1</PROD_NM>
						<PROD_NUM>000003</PROD_NUM>
						<QTY></QTY>
						<RMK></RMK>
						<SLEEVE></SLEEVE>
						<SPRING_COLOR></SPRING_COLOR>
						<STD></STD>
						<UPD_EMPID></UPD_EMPID>
						<UPD_IP></UPD_IP>
					</record>
					<record>
						<CRT_EMPID></CRT_EMPID>
						<CRT_IP></CRT_IP>
						<FACI_NUM></FACI_NUM>
						<GOV_NUM></GOV_NUM>
						<MAKER></MAKER>
						<MAX_OPERAT_PRESS></MAX_OPERAT_PRESS>
						<MIN_OPERAT_PRESS></MIN_OPERAT_PRESS>
						<MODEL_NM></MODEL_NM>
						<PRESS_CONTROL_RANGE_FROM></PRESS_CONTROL_RANGE_FROM>
						<PRESS_CONTROL_RANGE_TO></PRESS_CONTROL_RANGE_TO>
						<PROD_NM>Pilot&#32;2</PROD_NM>
						<PROD_NUM>000004</PROD_NUM>
						<QTY></QTY>
						<RMK></RMK>
						<SLEEVE></SLEEVE>
						<SPRING_COLOR></SPRING_COLOR>
						<STD></STD>
						<UPD_EMPID></UPD_EMPID>
						<UPD_IP></UPD_IP>
					</record>
					<record>
						<CRT_EMPID></CRT_EMPID>
						<CRT_IP></CRT_IP>
						<FACI_NUM></FACI_NUM>
						<GOV_NUM></GOV_NUM>
						<MAKER></MAKER>
						<MAX_OPERAT_PRESS></MAX_OPERAT_PRESS>
						<MIN_OPERAT_PRESS></MIN_OPERAT_PRESS>
						<MODEL_NM></MODEL_NM>
						<PRESS_CONTROL_RANGE_FROM></PRESS_CONTROL_RANGE_FROM>
						<PRESS_CONTROL_RANGE_TO></PRESS_CONTROL_RANGE_TO>
						<PROD_NM>SSV&#32;1</PROD_NM>
						<PROD_NUM>000005</PROD_NUM>
						<QTY></QTY>
						<RMK></RMK>
						<SLEEVE></SLEEVE>
						<SPRING_COLOR></SPRING_COLOR>
						<STD></STD>
						<UPD_EMPID></UPD_EMPID>
						<UPD_IP></UPD_IP>
					</record>
					<record>
						<CRT_EMPID></CRT_EMPID>
						<CRT_IP></CRT_IP>
						<FACI_NUM></FACI_NUM>
						<GOV_NUM></GOV_NUM>
						<MAKER></MAKER>
						<MAX_OPERAT_PRESS></MAX_OPERAT_PRESS>
						<MIN_OPERAT_PRESS></MIN_OPERAT_PRESS>
						<MODEL_NM></MODEL_NM>
						<PRESS_CONTROL_RANGE_FROM></PRESS_CONTROL_RANGE_FROM>
						<PRESS_CONTROL_RANGE_TO></PRESS_CONTROL_RANGE_TO>
						<PROD_NM>SSV&#32;2</PROD_NM>
						<PROD_NUM>000006</PROD_NUM>
						<QTY></QTY>
						<RMK></RMK>
						<SLEEVE></SLEEVE>
						<SPRING_COLOR></SPRING_COLOR>
						<STD></STD>
						<UPD_EMPID></UPD_EMPID>
						<UPD_IP></UPD_IP>
					</record>
					<record>
						<CRT_EMPID></CRT_EMPID>
						<CRT_IP></CRT_IP>
						<FACI_NUM></FACI_NUM>
						<GOV_NUM></GOV_NUM>
						<MAKER></MAKER>
						<MAX_OPERAT_PRESS></MAX_OPERAT_PRESS>
						<MIN_OPERAT_PRESS></MIN_OPERAT_PRESS>
						<MODEL_NM></MODEL_NM>
						<PRESS_CONTROL_RANGE_FROM></PRESS_CONTROL_RANGE_FROM>
						<PRESS_CONTROL_RANGE_TO></PRESS_CONTROL_RANGE_TO>
						<PROD_NM>Relief</PROD_NM>
						<PROD_NUM>000007</PROD_NUM>
						<QTY></QTY>
						<RMK></RMK>
						<SLEEVE></SLEEVE>
						<SPRING_COLOR></SPRING_COLOR>
						<STD></STD>
						<UPD_EMPID></UPD_EMPID>
						<UPD_IP></UPD_IP>
					</record>
					<record>
						<CRT_EMPID></CRT_EMPID>
						<CRT_IP></CRT_IP>
						<FACI_NUM></FACI_NUM>
						<GOV_NUM></GOV_NUM>
						<MAKER></MAKER>
						<MAX_OPERAT_PRESS></MAX_OPERAT_PRESS>
						<MIN_OPERAT_PRESS></MIN_OPERAT_PRESS>
						<MODEL_NM></MODEL_NM>
						<PRESS_CONTROL_RANGE_FROM></PRESS_CONTROL_RANGE_FROM>
						<PRESS_CONTROL_RANGE_TO></PRESS_CONTROL_RANGE_TO>
						<PROD_NM>Filter</PROD_NM>
						<PROD_NUM>000008</PROD_NUM>
						<QTY></QTY>
						<RMK></RMK>
						<SLEEVE></SLEEVE>
						<SPRING_COLOR></SPRING_COLOR>
						<STD></STD>
						<UPD_EMPID></UPD_EMPID>
						<UPD_IP></UPD_IP>
					</record>
					<record>
						<CRT_EMPID></CRT_EMPID>
						<CRT_IP></CRT_IP>
						<FACI_NUM></FACI_NUM>
						<GOV_NUM></GOV_NUM>
						<MAKER></MAKER>
						<MAX_OPERAT_PRESS></MAX_OPERAT_PRESS>
						<MIN_OPERAT_PRESS></MIN_OPERAT_PRESS>
						<MODEL_NM></MODEL_NM>
						<PRESS_CONTROL_RANGE_FROM></PRESS_CONTROL_RANGE_FROM>
						<PRESS_CONTROL_RANGE_TO></PRESS_CONTROL_RANGE_TO>
						<PROD_NM>차압계</PROD_NM>
						<PROD_NUM>000009</PROD_NUM>
						<QTY></QTY>
						<RMK></RMK>
						<SLEEVE></SLEEVE>
						<SPRING_COLOR></SPRING_COLOR>
						<STD></STD>
						<UPD_EMPID></UPD_EMPID>
						<UPD_IP></UPD_IP>
					</record>
					<record>
						<CRT_EMPID></CRT_EMPID>
						<CRT_IP></CRT_IP>
						<FACI_NUM></FACI_NUM>
						<GOV_NUM></GOV_NUM>
						<MAKER></MAKER>
						<MAX_OPERAT_PRESS></MAX_OPERAT_PRESS>
						<MIN_OPERAT_PRESS></MIN_OPERAT_PRESS>
						<MODEL_NM></MODEL_NM>
						<PRESS_CONTROL_RANGE_FROM></PRESS_CONTROL_RANGE_FROM>
						<PRESS_CONTROL_RANGE_TO></PRESS_CONTROL_RANGE_TO>
						<PROD_NM>경보기</PROD_NM>
						<PROD_NUM>000010</PROD_NUM>
						<QTY></QTY>
						<RMK></RMK>
						<SLEEVE></SLEEVE>
						<SPRING_COLOR></SPRING_COLOR>
						<STD></STD>
						<UPD_EMPID></UPD_EMPID>
						<UPD_IP></UPD_IP>
					</record>
					<record>
						<CRT_EMPID></CRT_EMPID>
						<CRT_IP></CRT_IP>
						<FACI_NUM></FACI_NUM>
						<GOV_NUM></GOV_NUM>
						<MAKER></MAKER>
						<MAX_OPERAT_PRESS></MAX_OPERAT_PRESS>
						<MIN_OPERAT_PRESS></MIN_OPERAT_PRESS>
						<MODEL_NM></MODEL_NM>
						<PRESS_CONTROL_RANGE_FROM></PRESS_CONTROL_RANGE_FROM>
						<PRESS_CONTROL_RANGE_TO></PRESS_CONTROL_RANGE_TO>
						<PROD_NM>SSV&#32;센서</PROD_NM>
						<PROD_NUM>000011</PROD_NUM>
						<QTY></QTY>
						<RMK></RMK>
						<SLEEVE></SLEEVE>
						<SPRING_COLOR></SPRING_COLOR>
						<STD></STD>
						<UPD_EMPID></UPD_EMPID>
						<UPD_IP></UPD_IP>
					</record>
					<record>
						<CRT_EMPID></CRT_EMPID>
						<CRT_IP></CRT_IP>
						<FACI_NUM></FACI_NUM>
						<GOV_NUM></GOV_NUM>
						<MAKER></MAKER>
						<MAX_OPERAT_PRESS></MAX_OPERAT_PRESS>
						<MIN_OPERAT_PRESS></MIN_OPERAT_PRESS>
						<MODEL_NM></MODEL_NM>
						<PRESS_CONTROL_RANGE_FROM></PRESS_CONTROL_RANGE_FROM>
						<PRESS_CONTROL_RANGE_TO></PRESS_CONTROL_RANGE_TO>
						<PROD_NM>압력전송기</PROD_NM>
						<PROD_NUM>000012</PROD_NUM>
						<QTY></QTY>
						<RMK></RMK>
						<SLEEVE></SLEEVE>
						<SPRING_COLOR></SPRING_COLOR>
						<STD></STD>
						<UPD_EMPID></UPD_EMPID>
						<UPD_IP></UPD_IP>
					</record>
					<record>
						<CRT_EMPID></CRT_EMPID>
						<CRT_IP></CRT_IP>
						<FACI_NUM></FACI_NUM>
						<GOV_NUM></GOV_NUM>
						<MAKER></MAKER>
						<MAX_OPERAT_PRESS></MAX_OPERAT_PRESS>
						<MIN_OPERAT_PRESS></MIN_OPERAT_PRESS>
						<MODEL_NM></MODEL_NM>
						<PRESS_CONTROL_RANGE_FROM></PRESS_CONTROL_RANGE_FROM>
						<PRESS_CONTROL_RANGE_TO></PRESS_CONTROL_RANGE_TO>
						<PROD_NM>DC&#32;MORTER</PROD_NM>
						<PROD_NUM>000013</PROD_NUM>
						<QTY></QTY>
						<RMK></RMK>
						<SLEEVE></SLEEVE>
						<SPRING_COLOR></SPRING_COLOR>
						<STD></STD>
						<UPD_EMPID></UPD_EMPID>
						<UPD_IP></UPD_IP>
					</record>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_GovItemList">
				<Contents>
					<colinfo id="PROD_NM" size="256" type="STRING"/>
					<colinfo id="FACI_NUM" size="256" type="STRING"/>
					<colinfo id="GOV_NUM" size="256" type="STRING"/>
					<colinfo id="PROD_NUM" size="256" type="STRING"/>
					<colinfo id="UPD_EMPID" size="256" type="STRING"/>
					<colinfo id="UPD_IP" size="256" type="STRING"/>
					<colinfo id="CRT_EMPID" size="256" type="STRING"/>
					<colinfo id="CRT_IP" size="256" type="STRING"/>
					<colinfo id="MAKER" size="256" type="STRING"/>
					<colinfo id="MODEL_NM" size="256" type="STRING"/>
					<colinfo id="STD" size="256" type="STRING"/>
					<colinfo id="QTY" size="256" type="STRING"/>
					<colinfo id="SLEEVE" size="256" type="STRING"/>
					<colinfo id="SPRING_COLOR" size="256" type="STRING"/>
					<colinfo id="MAX_OPERAT_PRESS" size="256" type="STRING"/>
					<colinfo id="MIN_OPERAT_PRESS" size="256" type="STRING"/>
					<colinfo id="PRESS_CONTROL_RANGE_FROM" size="256" type="STRING"/>
					<colinfo id="PRESS_CONTROL_RANGE_TO" size="256" type="STRING"/>
					<colinfo id="RMK" size="256" type="STRING"/>
				</Contents>
			</Dataset>
		</Datasets>
		<Image Align="Left" Height="39" Id="Image0" ImageID="popup_top" LeftMargin="33" Style="popup_title" TabOrder="1" Text="정압기&#32;상세정보입력" Transparent="TRUE" Width="890"></Image>
		<Grid AutoEnter="TRUE" BkColor2="user19" BoldHead="FALSE" Border="Flat" Bottom="329" ColSizing="TRUE" Editable="TRUE" Enable="true" EndLineColor="default" HeadBorder="Flat" HeadHeight="20" Height="258" Id="grd_GovItem" InputPanel="FALSE" LineColor="default" LineType="ExVERT" Right="888" SelColor="MENU" Style="grid_pop" TabOrder="2" TabStop="true" Top="71" UseDBuff="true" UsePopupMenu="true" UseSelColor="true" Visible="true" VLineColor="default" WheelScrollRow="1" Width="888">
			<contents>
				<format id="Default">
					<columns>
						<col width="108"/>
						<col width="100"/>
						<col width="100"/>
						<col width="90"/>
						<col width="100"/>
						<col width="100"/>
						<col width="100"/>
						<col width="100"/>
						<col width="100"/>
						<col width="123"/>
						<col width="118"/>
						<col width="100"/>
					</columns>
					<head>
						<cell col="0" display="text" text="품명"/>
						<cell col="1" display="text" text="제작사"/>
						<cell col="2" display="text" text="모델명"/>
						<cell col="3" display="text" text="규격"/>
						<cell col="4" display="text" text="수량"/>
						<cell col="5" display="text" text="슬리브"/>
						<cell col="6" display="text" text="스프링색상"/>
						<cell col="7" display="text" text="최고작동압력"/>
						<cell col="8" display="text" text="최저작동압력"/>
						<cell col="9" display="text" limit="10" text="압력조절범위(입구)"/>
						<cell col="10" display="text" text="압력조절범위(출구)"/>
						<cell col="11" display="text" text="비고"/>
					</head>
					<body>
						<cell align="center" bkcolor="user12" col="0" colid="PROD_NM" display="text" expandsize="18" limit="20" suppress="1" SuppressAlign="Middle" wordwrap="word"/>
						<cell col="1" colid="MAKER" display="text" edit="normal" expandsize="18" limit="20" wordwrap="word"/>
						<cell col="2" colid="MODEL_NM" display="text" edit="normal" expandsize="18" limit="20" wordwrap="word"/>
						<cell col="3" colid="STD" display="combo" edit="combo" expandsize="18" wordwrap="word"/>
						<cell col="4" colid="QTY" display="number" edit="number" limit="2"/>
						<cell col="5" colid="SLEEVE" display="text" edit="normal"/>
						<cell col="6" colid="SPRING_COLOR" display="text" edit="normal" limit="10"/>
						<cell col="7" colid="MAX_OPERAT_PRESS" display="text" edit="normal"/>
						<cell col="8" colid="MIN_OPERAT_PRESS" display="text" edit="normal"/>
						<cell col="9" colid="PRESS_CONTROL_RANGE_FROM" display="number" edit="number" limit="10"/>
						<cell col="10" colid="PRESS_CONTROL_RANGE_TO" display="number" edit="number" limit="10"/>
						<cell col="11" colid="RMK" display="text" edit="normal" limit="30"/>
					</body>
				</format>
			</contents>
		</Grid>
		<Shape BKColor="user16" Bottom="71" Height="3" Id="Shape1" Left="-1" LineWidth="0" Right="888" TabOrder="3" Top="68" Type="Rectangle" Width="889"></Shape>
		<Div Height="29" Id="Div0" TabOrder="4" Text="Div0" Top="39" Url="globals::ComButton.xml" Width="889">
			<Contents></Contents>
		</Div>
	</Form>
	<Script><![CDATA[/*******************************************************************************
* FormID     : D1101010017U.xml
* Form 설명  : 정압실 상세정보
* 시스템 명  : 안전공급(D1)
* 작성자     : 김태화
* 작성일     : 2009-01-16
* 변경내용   : 
*******************************************************************************/
#include "JS::COMMONA10001.js";
#include "JS::COMMONA10002.js";

var strGovNum = "";
var strFaciNum = "";
var strRowType = "insert";
function D1101010017U_OnLoadCompleted(obj)
{
	gfn_LoadForm(obj);
	fn_Init();
	fn_D1_ComboInt();
	fn_D1_FindGov();
	
}

//---------------------------------------------------------
//	초기 설정
//---------------------------------------------------------
function fn_Init()
{
	// 넘어온 파라메터가 있으면
	if(IsExistVar("FACI_NUM"))
	{
		strFaciNum = FACI_NUM;
	}
	if(IsExistVar("GOV_NUM"))
	{
		strGovNum = GOV_NUM;
	}
	
	if(IsExistVar("GUBUN") && GUBUN == "1")
	{
		grd_GovItem.Editable = false;
		Image0.Text = "정압기 상세정보조회";
	}
}

function fn_D1_ComboInt()
{
	gfn_SetGrdComboBox_Comcode("grd_GovItem",3,"C30111");
	gfn_SetGrdComboBox_Comcode("grd_GovItem",5,"A10360");
	gfn_SetGrdComboBox_Comcode("grd_GovItem",7,"B30035");
	gfn_SetGrdComboBox_Comcode("grd_GovItem",8,"B30035");
}

//------------------------------------------------------------------------------- 
// 함수명: fn_D1_FindGov()
//   설명:  정압기 상세정보를 조회한다.
// arguments
//   return 내용: 없음
//------------------------------------------------------------------------------- 
function fn_D1_FindGov()
{	
	var strSvcID = "fn_D1_Find";
	var strPart = "D10";
	var strURL = "handle.do?ServiceName=D1_FacilityInfoMgr-service&GOV_NUM="+strGovNum+"&FACI_NUM="+strFaciNum;
	var strInDatasets  = "";
	var strOutDatasets  = "ds_GovItemList=ds_GovItemList";
	var strArgument  = "findGovItem";
	var strCallbackFunc = "fn_CallBack";
	
	gfn_AsyncCall( 
					 strSvcID
				   , strPart
				   , strURL
				   , strInDatasets
				   , strOutDatasets
				   , strArgument
				   , strCallbackFunc
			   );	
}

//------------------------------------------------------------------------------- 
// 함수명: fn_D1_GovInit()
//   설명:  자율 검사 대상 정압기장표 해당 내용을 셋팅한다.
// arguments
//   return 내용: 없음
//------------------------------------------------------------------------------- 
function fn_D1_GovInit()
{	
	for(var i=0;i<ds_GovItemList.RowCount();i++)
	{
		ds_GovItem.SetColumn(i,"MAKER",ds_GovItemList.GetColumn(i,"MAKER"));
		ds_GovItem.SetColumn(i,"MODEL_NM",ds_GovItemList.GetColumn(i,"MODEL_NM"));
		ds_GovItem.SetColumn(i,"STD",ds_GovItemList.GetColumn(i,"STD"));
		ds_GovItem.SetColumn(i,"QTY",ds_GovItemList.GetColumn(i,"QTY"));
		ds_GovItem.SetColumn(i,"SLEEVE",ds_GovItemList.GetColumn(i,"SLEEVE"));
		ds_GovItem.SetColumn(i,"SPRING_COLOR",ds_GovItemList.GetColumn(i,"SPRING_COLOR"));
		ds_GovItem.SetColumn(i,"MAX_OPERAT_PRESS",ds_GovItemList.GetColumn(i,"MAX_OPERAT_PRESS"));
		ds_GovItem.SetColumn(i,"MIN_OPERAT_PRESS",ds_GovItemList.GetColumn(i,"MIN_OPERAT_PRESS"));
		ds_GovItem.SetColumn(i,"PRESS_CONTROL_RANGE_FROM",ds_GovItemList.GetColumn(i,"PRESS_CONTROL_RANGE_FROM"));
		ds_GovItem.SetColumn(i,"PRESS_CONTROL_RANGE_TO",ds_GovItemList.GetColumn(i,"PRESS_CONTROL_RANGE_TO"));
		ds_GovItem.SetColumn(i,"RMK",ds_GovItemList.GetColumn(i,"RMK"));		
	}
	
}

//------------------------------------------------------------------------------- 
// 함수명: fn_CallBack()
//   설명:  비동기 트랜잭션 후 실행할 함수
// arguments
//			svcid : 서비스 아이디
//			errcd : 에러 코드
//			errmsg : 에러 메세지
//   return 내용: 없음
//------------------------------------------------------------------------------- 
function fn_CallBack(svcid, errcd, errmsg)
{
    switch(svcid)
	{	
		case "fn_D1_Find": 
            /*
			if(ErrorCode<0){
				alert(gfn_GetMessage("M000014","%AAA%","조회"));    //"조회 중 오류가 발생했습니다."
				return false;
			}
			*/
			if(ds_GovItemList.GetRowCount() > 0)
			{
				strRowType = "update";
				fn_D1_GovInit();
			}
			grd_GovItem.BindDataset = "ds_GovItem";
			break;	
	}
}

/*===============================================================================
 * 함수명: fn_CommonSave()
   설명: 정압기 상세 내용를 저장 하는 함수
   return 내용: 없음
===============================================================================*/ 
function fn_CommonSave()
{
	if(IsExistVar("GUBUN") && GUBUN == "1")
	{
		alert("조회만 가능합니다.");
	}else{
		fn_D1_SaveGov();
	}
}

//------------------------------------------------------------------------------- 
// 함수명: fn_D1_SaveGov()
//   설명: 정압기 상세 내용을 저장
// arguments   
//   return 내용: 없음
//------------------------------------------------------------------------------- 
function fn_D1_SaveGov()
{
	
	for(var i=0; i<ds_GovItem.RowCount(); i++)
	{
		
		ds_GovItem.UpdateControl = false;
		ds_GovItem.SetRowType(i, strRowType);
		
		ds_GovItem.SetColumn(i,"FACI_NUM",strFaciNum);
		ds_GovItem.SetColumn(i,"GOV_NUM",strGovNum);
		//수정 등록시 셋팅할 사용자 정보
		ds_GovItem.SetColumn(i, "UPD_EMPID", gfn_GetGlobalValue("G_USER_NO"));
		ds_GovItem.SetColumn(i, "UPD_IP", gfn_GetGlobalValue("G_IPADDRESS"));
		ds_GovItem.SetColumn(i, "CRT_EMPID", gfn_GetGlobalValue("G_USER_NO"));
		ds_GovItem.SetColumn(i, "CRT_IP", gfn_GetGlobalValue("G_IPADDRESS"));
	}
	
	var strSvcID = "fn_D1_SaveGov";
	var strPart = "D10";
	var strURL = "handle.do?ServiceName=D1_FacilityInfoMgr-service";
	var strInDatasets  = "ds_GovItem=ds_GovItem:u";
	var strOutDatasets  = "";
	var strArgument  = "saveGovItem";
	
	gfn_SyncCall( 
					 strSvcID
				   , strPart
				   , strURL
				   , strInDatasets
				   , strOutDatasets
				   , strArgument
			   );
	
	gfn_SetStatusMsg(gfn_GetMessage("M000009","%AAA%","정상적으로 저장을"),"black",true); 		   
	fn_D1_FindGov();
}]]></Script>
</Window>